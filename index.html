<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Deadspot Clicker</title>

<style>
/* ===== THEME NEON ===== */
body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: radial-gradient(circle at top, #12002b, #000);
    color: #e0d9ff;
    overflow-x: hidden;
}

.neon {
    text-shadow:
        0 0 5px #8f00ff,
        0 0 10px #8f00ff,
        0 0 20px #00eaff;
}

header {
    display: flex;
    justify-content: space-around;
    padding: 15px;
    border-bottom: 1px solid #3a1c5c;
    background: rgba(0,0,0,0.6);
}

.stat {
    text-align: center;
}

#energyBar {
    width: 160px;
    height: 12px;
    background: #1a0033;
    border: 1px solid #8f00ff;
    margin-top: 5px;
}
#energyFill {
    height: 100%;
    width: 100%;
    background: linear-gradient(90deg, #00eaff, #8f00ff);
}

/* ===== LAYOUT ===== */
.main {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
    gap: 20px;
    padding: 20px;
}

.center {
    text-align: center;
}

/* ===== CLICK BUTTON ===== */
#clickBtn {
    width: 180px;
    height: 180px;
    border-radius: 50%;
    border: none;
    background: radial-gradient(circle, #00eaff, #6f00ff);
    box-shadow: 0 0 20px #00eaff, 0 0 50px #6f00ff;
    color: #000;
    font-size: 22px;
    font-weight: bold;
    cursor: pointer;
    transition: transform 0.1s;
}
#clickBtn:active {
    transform: scale(0.9);
}

.gain {
    margin-top: 15px;
    font-size: 18px;
}

/* ===== UPGRADES ===== */
.panel {
    background: rgba(20,0,40,0.6);
    border: 1px solid #6f00ff;
    padding: 15px;
    box-shadow: 0 0 10px #6f00ff;
}

.panel button {
    width: 100%;
    margin-top: 5px;
    padding: 8px;
    background: #12002b;
    border: 1px solid #00eaff;
    color: #00eaff;
    cursor: pointer;
}

/* ===== INVENTORY SLIDE ===== */
#inventory {
    position: fixed;
    top: 0;
    right: -320px;
    width: 300px;
    height: 100%;
    background: #05000f;
    border-left: 2px solid #8f00ff;
    padding: 15px;
    transition: right 0.4s;
    box-shadow: -10px 0 20px #8f00ff;
}
#inventory.open {
    right: 0;
}

/* ===== RETRAIT ===== */
footer {
    border-top: 1px solid #3a1c5c;
    padding: 20px;
    background: rgba(0,0,0,0.7);
}
input {
    width: 100%;
    padding: 8px;
    margin-top: 5px;
    background: #12002b;
    border: 1px solid #8f00ff;
    color: #fff;
}
</style>
</head>

<body>

<header>
    <div class="stat neon">Deadspot<br><span id="deadspot">0</span></div>
    <div class="stat neon">Niveau<br><span id="level">1</span></div>
    <div class="stat neon">XP<br><span id="xp">0</span></div>
    <div class="stat neon">
        Energie
        <div id="energyBar"><div id="energyFill"></div></div>
        <span id="energyText"></span>
    </div>
</header>

<div class="main">

<!-- UPGRADES -->
<div class="panel">
    <h3 class="neon">Upgrades</h3>
    <button onclick="buyUpgrade('double')">Double Click (x2)</button>
    <button onclick="buyUpgrade('triple')">Triple Click (x3)</button>
    <button onclick="buyUpgrade('energy')">+100 Energie Max</button>
</div>

<!-- CENTER -->
<div class="center">
    <button id="clickBtn" onclick="clickAction()">CLICK</button>
    <div class="gain neon" id="gainText">+0 Deadspot</div>
    <button onclick="toggleInventory()">Inventaire NFT</button>
</div>

<!-- NFT SHOP -->
<div class="panel">
    <h3 class="neon">NFT Mineurs</h3>
    <button onclick="buyMiner(0)">Nano Miner</button>
    <button onclick="buyMiner(1)">Micro Miner</button>
    <button onclick="buyMiner(2)">Basic Miner</button>
    <button onclick="buyMiner(3)">Pro Miner</button>
</div>

</div>

<!-- INVENTORY -->
<div id="inventory">
    <h3 class="neon">Inventaire NFT</h3>
    <div id="minerList"></div>
</div>

<footer>
    <h3 class="neon">Retrait Deadspot</h3>
    <input placeholder="Adresse Deadspot">
    <button>Demander Retrait (min 10)</button>
</footer>

<script>
/* ===== DONNEES ===== */
let deadspot = Number(localStorage.deadspot || 0);
let xp = Number(localStorage.xp || 0);
let level = Number(localStorage.level || 1);
let energyMax = Number(localStorage.energyMax || 500);
let energy = Number(localStorage.energy || energyMax);

let clickMult = Number(localStorage.clickMult || 1);

const miners = [
    {name:"Nano", prod:0.000001, qty:0},
    {name:"Micro", prod:0.00001, qty:0},
    {name:"Basic", prod:0.001, qty:0},
    {name:"Pro", prod:0.01, qty:0},
];

/* ===== UI UPDATE ===== */
function updateUI() {
    deadspotEl.innerText = deadspot.toFixed(6);
    xpEl.innerText = xp;
    levelEl.innerText = level;
    energyText.innerText = energy + " / " + energyMax;
    energyFill.style.width = (energy/energyMax*100) + "%";
    localStorage.deadspot = deadspot;
    localStorage.xp = xp;
    localStorage.level = level;
    localStorage.energy = energy;
    localStorage.energyMax = energyMax;
    localStorage.clickMult = clickMult;
}
const deadspotEl = document.getElementById("deadspot");
const xpEl = document.getElementById("xp");
const levelEl = document.getElementById("level");
const energyText = document.getElementById("energyText");
const energyFill = document.getElementById("energyFill");

/* ===== CLICK ===== */
function clickAction() {
    if (energy <= 0) return;
    energy--;

    let base = Math.random() * (1.75 - 0.01) + 0.01;
    let gain = base * clickMult * (1 + level*0.05);
    deadspot += gain;
    xp++;

    if (xp >= level * 100) {
        xp = 0;
        level++;
        energyMax += 10;
        energy = energyMax;
    }

    document.getElementById("gainText").innerText = "+" + gain.toFixed(4) + " Deadspot";
    updateUI();
}

/* ===== ENERGY REGEN ===== */
setInterval(() => {
    energy = Math.min(energy + 5, energyMax);
    updateUI();
}, 10000);

/* ===== UPGRADES ===== */
function buyUpgrade(type) {
    if (type === "double") clickMult *= 2;
    if (type === "triple") clickMult *= 3;
    if (type === "energy") energyMax += 100;
    updateUI();
}

/* ===== INVENTORY ===== */
function toggleInventory() {
    document.getElementById("inventory").classList.toggle("open");
}

/* ===== MINERS ===== */
function buyMiner(i) {
    miners[i].qty++;
    renderMiners();
}
function renderMiners() {
    let html = "";
    miners.forEach(m => {
        html += `<div>${m.name}: ${m.qty}</div>`;
    });
    document.getElementById("minerList").innerHTML = html;
}

/* ===== MINING LOOP ===== */
setInterval(() => {
    let prod = miners.reduce((t,m)=>t+m.prod*m.qty,0);
    deadspot += prod;
    updateUI();
}, 1000);

updateUI();
renderMiners();
</script>

</body>
</html>
